{%- if page.comments != false and jekyll.environment == "production" -%}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <div id="gitalk-container"></div>

    <script>
        const gitalk = new Gitalk({
            clientID: "{{site.gitalk.clientID}}",
            clientSecret: "{{site.gitalk.clientSecret}}",
            repo: "{{site.gitalk.repo}}",
            owner: "{{site.gitalk.owner}}",
            admin: ["{{site.gitalk.admin}}"],
             /* A configuration in this file: id */
            id: "{{page.url | remove: ".html" | split: '/' | join ' ' | strip}}",
            labels: [
                {% for gitalk_lable in site.gitalk.labels %}
                    "{{ gitalk_lable }}",
                {% endfor %}
            ],
            pagerDirection: "{{site.gitalk.pagerDirection}}",
            distractionFreeMode: {{site.gitalk.distractionFreeMode}},
            createIssueManually: {{site.gitalk.createIssueManually}}
        })

        gitalk.render("gitalk-container")
    </script>

{%- endif -%}
