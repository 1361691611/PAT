2017-05-04 23:03:35 +0800

**先说说输入：** 我们不清楚题目会给出多长的非法输入，因此为了**防止溢出**，我们应该选择一个安全的方式应对这种情况。
我的方法是先确定合法数字的最长长度：8个字符，那么我们每次就先只读8个字符。如果输入流（`stdin`）中的下一个字符不是空白字符，那么这个数就绝对非法；如果是空白字符的话，再继续讨论接下来的问题。
**（这个问题几乎网上所有AC的方法都是用的一个大数组来读取，应该是PAT对这一点没有严格检查（要是有上千字符的输入就不行了）。我只是出于健壮性考虑，照顾到了这一点）**

（通过率0.19的题我一次AC了，先让我激动一会儿 `\(≧▽≦)/` ）

**代码实现**

- 读取8个字符，使用了`scanf("%8s", str)`，就是读到空白字符或者8个字符。
- 判断是否是浮点，使用了函数`strtod(const char *, char **)`，这个函数的第二个参数是一个指针的地址，用来使该指针指向未用于转换的第一个字符，我们可以根据这个指针是否为`NULL`来判断这个字符串是否为浮点。
（e.g. 如第一个参数传入字符串2.3.4，第二个参数这个指针会指向第二个小数点）
- 精度，找到小数点（有的话）的位置，看它距字符串结尾有几个字符就好了，不能大于3个。

P.S. 在网上看到了结合使用sscanf和sprintf的方法，相当的巧妙。忘记了在哪里，读者可自行查找，或尝试自己去实现。
